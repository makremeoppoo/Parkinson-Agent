<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agent Parkinson â€” Architecture Diagram</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2.5rem 1.5rem;
    }

    h1 {
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: -.02em;
      color: #f8fafc;
      margin-bottom: .3rem;
      text-align: center;
    }
    .subtitle {
      font-size: .8rem;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: .1em;
      margin-bottom: 2.5rem;
      text-align: center;
    }

    /* â”€â”€ diagram canvas â”€â”€ */
    .diagram {
      width: 100%;
      max-width: 960px;
      display: flex;
      flex-direction: column;
      gap: 0;
    }

    /* â”€â”€ rows â”€â”€ */
    .row {
      display: flex;
      align-items: stretch;
      justify-content: center;
      gap: 0;
    }
    .row-gap { height: 0; display: flex; justify-content: center; }

    /* â”€â”€ generic box â”€â”€ */
    .box {
      border-radius: 14px;
      padding: 1.1rem 1.4rem;
      border: 1px solid;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: .45rem;
    }
    .box-title {
      font-size: .72rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: .09em;
      opacity: .7;
    }
    .box-name {
      font-size: 1rem;
      font-weight: 700;
      text-align: center;
      line-height: 1.25;
    }
    .box-sub {
      font-size: .72rem;
      opacity: .6;
      text-align: center;
      line-height: 1.4;
    }
    .box-icon {
      font-size: 1.8rem;
      line-height: 1;
    }

    /* colours */
    .box-user    { background:#1e293b; border-color:#334155; color:#94a3b8; }
    .box-browser { background:#0c1a3a; border-color:#1d4ed8; color:#93c5fd; }
    .box-backend { background:#0a2218; border-color:#15803d; color:#86efac; }
    .box-gemini  { background:#1a0f2e; border-color:#7c3aed; color:#c4b5fd; }
    .box-cloud   { background:#0f1f2e; border-color:#0ea5e9; color:#7dd3fc; }
    .box-data    { background:#1e1a0a; border-color:#ca8a04; color:#fde047; }
    .box-tts     { background:#1a0e1e; border-color:#a21caf; color:#f0abfc; }

    /* â”€â”€ inner grid inside a box â”€â”€ */
    .inner-grid {
      display: grid;
      gap: .5rem;
      width: 100%;
      margin-top: .3rem;
    }
    .inner-grid.cols2 { grid-template-columns: 1fr 1fr; }
    .inner-grid.cols3 { grid-template-columns: 1fr 1fr 1fr; }
    .inner-grid.cols4 { grid-template-columns: repeat(4, 1fr); }

    .chip {
      border-radius: 8px;
      padding: .4rem .6rem;
      font-size: .67rem;
      font-weight: 600;
      text-align: center;
      line-height: 1.3;
      border: 1px solid currentColor;
      opacity: .85;
    }

    /* â”€â”€ arrows â”€â”€ */
    .arrow-col {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 120px;
      flex-shrink: 0;
      position: relative;
      gap: .15rem;
    }
    .arrow-label {
      font-size: .62rem;
      text-transform: uppercase;
      letter-spacing: .06em;
      color: #475569;
      text-align: center;
      padding: 0 .3rem;
      white-space: nowrap;
    }
    .arrow-line {
      height: 2px;
      background: linear-gradient(90deg, #334155, #475569, #334155);
      width: 100%;
    }
    .arrow-down-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0;
    }
    .arrow-down-line {
      width: 2px;
      flex: 1;
      min-height: 20px;
      background: linear-gradient(180deg, #334155, #475569);
    }
    .arrow-tip-down {
      width: 0;
      height: 0;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-top: 8px solid #475569;
    }
    .arrow-tip-right {
      width: 0;
      height: 0;
      border-top: 6px solid transparent;
      border-bottom: 6px solid transparent;
      border-left: 8px solid #475569;
    }
    .arrow-both {
      display: flex;
      align-items: center;
      width: 100%;
      gap: 0;
    }
    .arrow-tip-left {
      width: 0;
      height: 0;
      border-top: 6px solid transparent;
      border-bottom: 6px solid transparent;
      border-right: 8px solid #475569;
    }

    /* vertical spacer between rows */
    .vspace {
      height: 32px;
      display: flex;
      align-items: stretch;
      justify-content: center;
      width: 100%;
    }
    .vspace .col {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
    }

    /* â”€â”€ legend â”€â”€ */
    .legend {
      margin-top: 2.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: .75rem;
      justify-content: center;
    }
    .legend-item {
      display: flex;
      align-items: center;
      gap: .4rem;
      font-size: .72rem;
      color: #64748b;
    }
    .legend-dot {
      width: 10px;
      height: 10px;
      border-radius: 3px;
      border: 1px solid currentColor;
    }

    /* â”€â”€ footer â”€â”€ */
    footer {
      margin-top: 2rem;
      font-size: .7rem;
      color: #1e293b;
      text-align: center;
    }
  </style>
</head>
<body>

  <h1>Agent Parkinson</h1>
  <p class="subtitle">System Architecture â€” Gemini Live Agent Challenge</p>

  <div class="diagram">

    <!-- â•â• ROW 1: User â•â• -->
    <div class="row">
      <div class="box box-user" style="width:200px; text-align:center;">
        <div class="box-icon">ğŸ‘¤</div>
        <div class="box-name">Patient / User</div>
        <div class="box-sub">Shows hands to camera</div>
      </div>
    </div>

    <!-- arrow down -->
    <div class="vspace">
      <div class="col" style="width:200px;">
        <div class="arrow-down-line" style="flex:1"></div>
        <div class="arrow-tip-down"></div>
      </div>
    </div>

    <!-- â•â• ROW 2: Browser â•â• -->
    <div class="row">
      <div class="box box-browser" style="width:760px;">
        <div class="box-title">Frontend Â· React 18 + TypeScript + Vite + Tailwind</div>
        <div class="box-name">Browser Agent</div>
        <div class="inner-grid cols4">
          <div class="chip" style="color:#93c5fd; border-color:#1d4ed8; background:#0c1a3a">ğŸ“· Camera<br>MediaRecorder<br>7 sec capture</div>
          <div class="chip" style="color:#93c5fd; border-color:#1d4ed8; background:#0c1a3a">ğŸ¨ UI<br>AgentAvatar<br>HandPanel</div>
          <div class="chip" style="color:#93c5fd; border-color:#1d4ed8; background:#0c1a3a">ğŸ“Š Results<br>ResultOverlay<br>Scores display</div>
          <div class="chip" style="color:#f0abfc; border-color:#a21caf; background:#1a0e1e">ğŸ”Š TTS<br>Web Speech API<br>Voice feedback</div>
        </div>
      </div>
    </div>

    <!-- arrow down + label -->
    <div class="vspace">
      <div class="col" style="width:760px; flex-direction:row; justify-content:center; align-items:center; gap:.5rem; padding-top:.4rem">
        <!-- left side: response arrow up -->
        <div style="display:flex;flex-direction:column;align-items:center;width:300px;">
          <div style="font-size:.62rem;color:#475569;text-transform:uppercase;letter-spacing:.06em;margin-bottom:.2rem">â† JSON result + voice_message</div>
          <div style="height:2px;width:100%;background:linear-gradient(90deg,#334155,#475569)"></div>
        </div>

        <!-- center vertical line -->
        <div style="display:flex;flex-direction:column;align-items:center;width:40px;">
          <div style="width:2px;height:100%;background:#334155;flex:1;min-height:28px;"></div>
        </div>

        <!-- right side: request arrow down -->
        <div style="display:flex;flex-direction:column;align-items:center;width:300px;">
          <div style="font-size:.62rem;color:#475569;text-transform:uppercase;letter-spacing:.06em;margin-bottom:.2rem">POST /analyze-frame (base64 video) â†’</div>
          <div style="height:2px;width:100%;background:linear-gradient(90deg,#475569,#334155)"></div>
        </div>
      </div>
    </div>

    <!-- â•â• ROW 3: Backend + Gemini side by side â•â• -->
    <div class="row" style="gap:1.5rem; align-items:flex-start;">

      <!-- Backend box -->
      <div class="box box-backend" style="flex:1; min-width:320px;">
        <div class="box-title">Backend Â· Node.js + Express Â· Google Cloud Run</div>
        <div class="box-name">API Server</div>

        <div class="inner-grid cols2" style="margin-top:.2rem;">
          <div class="chip" style="color:#86efac;border-color:#15803d;background:#0a2218">POST /analyze-frame<br>Video â†’ Gemini</div>
          <div class="chip" style="color:#86efac;border-color:#15803d;background:#0a2218">GET /results<br>JSON list</div>
          <div class="chip" style="color:#86efac;border-color:#15803d;background:#0a2218">GET /results/report<br>HTML + Chart.js</div>
          <div class="chip" style="color:#86efac;border-color:#15803d;background:#0a2218">GET /results/export<br>CSV download</div>
        </div>

        <!-- storage below -->
        <div style="width:100%;margin-top:.8rem;padding-top:.8rem;border-top:1px solid #166534;">
          <div style="font-size:.65rem;color:#4ade80;text-transform:uppercase;letter-spacing:.07em;text-align:center;margin-bottom:.4rem">Local Persistence</div>
          <div class="inner-grid cols2">
            <div class="chip" style="color:#fde047;border-color:#ca8a04;background:#1e1a0a">ğŸ“„ results.json<br>All sessions</div>
            <div class="chip" style="color:#fde047;border-color:#ca8a04;background:#1e1a0a">ğŸ“Š results.csv<br>Spreadsheet export</div>
          </div>
        </div>
      </div>

      <!-- Arrow between backend and gemini -->
      <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;padding-top:3.5rem;gap:.4rem;width:80px;flex-shrink:0;">
        <div style="font-size:.62rem;color:#475569;text-align:center;text-transform:uppercase;letter-spacing:.05em;line-height:1.3">video<br>frame</div>
        <div style="display:flex;align-items:center;width:100%;">
          <div style="height:2px;flex:1;background:linear-gradient(90deg,#334155,#7c3aed)"></div>
          <div style="width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:8px solid #7c3aed;"></div>
        </div>
        <div style="font-size:.62rem;color:#475569;text-align:center;text-transform:uppercase;letter-spacing:.05em;line-height:1.3">JSON<br>scores</div>
        <div style="display:flex;align-items:center;width:100%;">
          <div style="width:0;height:0;border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:8px solid #475569;"></div>
          <div style="height:2px;flex:1;background:linear-gradient(90deg,#7c3aed,#334155)"></div>
        </div>
      </div>

      <!-- Gemini box -->
      <div class="box box-gemini" style="flex:1; min-width:280px;">
        <div class="box-title">Google AI Â· @google/generative-ai SDK</div>
        <div class="box-icon">âœ¨</div>
        <div class="box-name">Gemini 2.5 Flash</div>
        <div class="box-sub">Multimodal video understanding</div>

        <div class="inner-grid cols1" style="--cols:1;margin-top:.4rem;">
          <div class="inner-grid" style="grid-template-columns:1fr;">
            <div class="chip" style="color:#c4b5fd;border-color:#7c3aed;background:#1a0f2e">ğŸ¤ Tremor detection (0â€“3)</div>
            <div class="chip" style="color:#c4b5fd;border-color:#7c3aed;background:#1a0f2e">ğŸ’ª Rigidity & posture (0â€“3)</div>
            <div class="chip" style="color:#c4b5fd;border-color:#7c3aed;background:#1a0f2e">ğŸ¢ Bradykinesia (0â€“3)</div>
            <div class="chip" style="color:#c4b5fd;border-color:#7c3aed;background:#1a0f2e">ğŸš¶ Gait analysis (0â€“3)</div>
            <div class="chip" style="color:#c4b5fd;border-color:#7c3aed;background:#1a0f2e">âš–ï¸ Balance (0â€“3)</div>
            <div class="chip" style="color:#c4b5fd;border-color:#7c3aed;background:#1a0f2e">ğŸ”Š voice_message for TTS</div>
          </div>
        </div>
      </div>

    </div>

    <!-- arrow down to Cloud -->
    <div class="vspace">
      <div class="col" style="width:760px; flex-direction:column; align-items:center; justify-content:center; gap:0; padding-top:.3rem;">
        <div style="font-size:.62rem;color:#475569;text-transform:uppercase;letter-spacing:.06em;margin-bottom:.15rem">Hosted on</div>
        <div style="width:2px;height:100%;background:#334155;flex:1;min-height:14px;"></div>
        <div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:8px solid #475569;"></div>
      </div>
    </div>

    <!-- â•â• ROW 4: Google Cloud â•â• -->
    <div class="row">
      <div class="box box-cloud" style="width:760px; flex-direction:row; gap:1.5rem; padding:1rem 1.5rem; align-items:center; justify-content:center;">
        <div style="font-size:1.6rem;">â˜ï¸</div>
        <div style="text-align:center;">
          <div class="box-title">Google Cloud Platform</div>
          <div class="box-name" style="font-size:.95rem;">Cloud Run Â· Container Registry Â· IAM</div>
          <div class="box-sub">Serverless Â· auto-scales Â· HTTPS Â· pay-per-use</div>
        </div>
        <div class="inner-grid cols3" style="flex:1;gap:.4rem;">
          <div class="chip" style="color:#7dd3fc;border-color:#0ea5e9;background:#0f1f2e">Docker<br>Container</div>
          <div class="chip" style="color:#7dd3fc;border-color:#0ea5e9;background:#0f1f2e">PORT=8080<br>Auto-inject</div>
          <div class="chip" style="color:#7dd3fc;border-color:#0ea5e9;background:#0f1f2e">API_KEY<br>Env secret</div>
        </div>
      </div>
    </div>

  </div><!-- .diagram -->

  <!-- â”€â”€ Legend â”€â”€ -->
  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="color:#1d4ed8;background:#0c1a3a;"></div> React Frontend</div>
    <div class="legend-item"><div class="legend-dot" style="color:#15803d;background:#0a2218;"></div> Express Backend</div>
    <div class="legend-item"><div class="legend-dot" style="color:#7c3aed;background:#1a0f2e;"></div> Gemini 2.5 Flash</div>
    <div class="legend-item"><div class="legend-dot" style="color:#0ea5e9;background:#0f1f2e;"></div> Google Cloud Run</div>
    <div class="legend-item"><div class="legend-dot" style="color:#ca8a04;background:#1e1a0a;"></div> Local Data (JSON / CSV)</div>
    <div class="legend-item"><div class="legend-dot" style="color:#a21caf;background:#1a0e1e;"></div> Web Speech API (TTS)</div>
  </div>

  <footer>Agent Parkinson Â· Gemini Live Agent Challenge 2025</footer>

</body>
</html>
